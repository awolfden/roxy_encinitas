{"ast":null,"code":"var _jsxFileName = \"/Users/adamwolfman/Desktop/roxy/roxy/src/Calendars/MusicCal/MusicCal.jsx\";\nimport React, { Component } from 'react';\nimport MusicEvent from './MusicEvent/MusicEvent';\nimport { Calendar, //DateLocalizer,\nmomentLocalizer } from //globalizeLocalizer,\n//move,\n//Views,\n//Navigate,\n//components,\n'react-big-calendar';\nimport moment from 'moment';\nimport \"react-big-calendar/lib/css/react-big-calendar.css\";\nimport '../../App.css';\nconst localizer = momentLocalizer(moment);\n\nclass MusicCal extends Component {\n  constructor(props, context) {\n    super(props, context);\n\n    this.convertDate = date => {\n      return moment.utc(date).toDate();\n    };\n\n    this.componentDidMount = () => {\n      this.getEvents();\n    };\n\n    this.getEvents = async () => {\n      try {\n        const response = await fetch(\"https://www.googleapis.com/calendar/v3/calendars/broadwayroxy.com_76kjffbp3se29lk10ptsqr2bm0@group.calendar.google.com/events?key=AIzaSyAMcCW7mJqkNNPoAWNG7VnI3n7pjo-3bcg\");\n\n        if (response.status !== 200) {\n          throw Error(response.statusText);\n        }\n\n        const parsedResponse = await response.json(); //console.log(parsedResponse);\n\n        const eventsArray = parsedResponse.items.map(event => {\n          console.log(event);\n          let dateStart = event.start.dateTime ? this.convertDate(event.start.dateTime).toISOString() : this.convertDate(event.originalStartTime.dateTime).toISOString();\n          let dateEnd = this.convertDate(event.end.dateTime).toISOString();\n          console.log(dateStart);\n\n          if (event.start.dateTime) {\n            return {\n              \"title\": event.summary,\n              \"start\": dateStart,\n              \"end\": dateEnd,\n              \"description\": event.description,\n              \"allDay?\": false,\n              \"resource?\": null\n            };\n          } else if (event.start.date) {\n            let dateStart = this.convertDate(event.start.date); //let dateEnd = this.convertDate(event.end.date);\n\n            return {\n              \"title\": event.summary,\n              \"start\": dateStart,\n              \"end\": dateStart,\n              \"description\": event.description,\n              \"allDay?\": false,\n              \"resource?\": null\n            };\n          } else {\n            return console.log(\"error\");\n          }\n        }); //console.log(eventsArray);\n\n        this.setState({\n          cal_events: eventsArray\n        });\n      } catch (error) {\n        console.log(error);\n      }\n    };\n\n    this.hideDetails = () => {\n      this.setState({\n        thisEvent: null,\n        selected: false\n      });\n    };\n\n    this.showEvent = e => {\n      //console.log(e);\n      this.setState({\n        selected: true,\n        thisEvent: e\n      });\n    };\n\n    this.hideEvent = () => {\n      if (this.state.selected) {\n        this.setState({\n          selected: false,\n          thisEvent: null\n        });\n      }\n    };\n\n    this.state = {\n      cal_events: [],\n      selected: false\n    };\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      onClick: this.hideEvent,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"App calendar\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125\n      },\n      __self: this\n    }, React.createElement(\"header\", {\n      className: \"App-header\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126\n      },\n      __self: this\n    }, React.createElement(\"h2\", {\n      className: \"App-title\",\n      id: \"musiccal\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128\n      },\n      __self: this\n    }, \"Music Calendar\")), React.createElement(\"div\", {\n      style: {\n        height: 700\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130\n      },\n      __self: this\n    }, React.createElement(Calendar, {\n      localizer: localizer,\n      events: this.state.cal_events,\n      step: 30,\n      defaultView: \"month\",\n      views: ['month'],\n      defaultDate: new Date(),\n      onSelectEvent: e => {\n        this.showEvent(e);\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131\n      },\n      __self: this\n    }))), this.state.selected ? React.createElement(MusicEvent, {\n      event: this.state.thisEvent,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144\n      },\n      __self: this\n    }) : null);\n  }\n\n}\n\nexport default MusicCal;","map":{"version":3,"sources":["/Users/adamwolfman/Desktop/roxy/roxy/src/Calendars/MusicCal/MusicCal.jsx"],"names":["React","Component","MusicEvent","Calendar","momentLocalizer","moment","localizer","MusicCal","constructor","props","context","convertDate","date","utc","toDate","componentDidMount","getEvents","response","fetch","status","Error","statusText","parsedResponse","json","eventsArray","items","map","event","console","log","dateStart","start","dateTime","toISOString","originalStartTime","dateEnd","end","summary","description","setState","cal_events","error","hideDetails","thisEvent","selected","showEvent","e","hideEvent","state","render","height","Date"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,UAAP,MAAuB,yBAAvB;AAEA,SACIC,QADJ,EAEI;AACAC,eAHJ,QAII;AACA;AACA;AACA;AACA;AACK,oBATT;AAWA,OAAOC,MAAP,MAAmB,QAAnB;AAEA,OAAO,mDAAP;AACA,OAAO,eAAP;AAEA,MAAMC,SAAS,GAAGF,eAAe,CAACC,MAAD,CAAjC;;AAEA,MAAME,QAAN,SAAuBN,SAAvB,CAAiC;AAE/BO,EAAAA,WAAW,CAACC,KAAD,EAAQC,OAAR,EAAiB;AAC1B,UAAMD,KAAN,EAAaC,OAAb;;AAD0B,SAU5BC,WAV4B,GAUbC,IAAD,IAAU;AACtB,aAAOP,MAAM,CAACQ,GAAP,CAAWD,IAAX,EAAiBE,MAAjB,EAAP;AACD,KAZ2B;;AAAA,SAc5BC,iBAd4B,GAcR,MAAM;AACxB,WAAKC,SAAL;AACD,KAhB2B;;AAAA,SAkB5BA,SAlB4B,GAkBhB,YAAY;AACtB,UAAI;AACF,cAAMC,QAAQ,GAAG,MAAMC,KAAK,CAAC,2KAAD,CAA5B;;AACA,YAAGD,QAAQ,CAACE,MAAT,KAAoB,GAAvB,EAA2B;AACzB,gBAAMC,KAAK,CAACH,QAAQ,CAACI,UAAV,CAAX;AACD;;AACD,cAAMC,cAAc,GAAG,MAAML,QAAQ,CAACM,IAAT,EAA7B,CALE,CAMF;;AAEA,cAAMC,WAAW,GAAGF,cAAc,CAACG,KAAf,CAAqBC,GAArB,CAA0BC,KAAD,IAAW;AACtDC,UAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ;AACA,cAAIG,SAAS,GAAGH,KAAK,CAACI,KAAN,CAAYC,QAAZ,GAAuB,KAAKrB,WAAL,CAAiBgB,KAAK,CAACI,KAAN,CAAYC,QAA7B,EAAuCC,WAAvC,EAAvB,GAA8E,KAAKtB,WAAL,CAAiBgB,KAAK,CAACO,iBAAN,CAAwBF,QAAzC,EAAmDC,WAAnD,EAA9F;AACA,cAAIE,OAAO,GAAG,KAAKxB,WAAL,CAAiBgB,KAAK,CAACS,GAAN,CAAUJ,QAA3B,EAAqCC,WAArC,EAAd;AACAL,UAAAA,OAAO,CAACC,GAAR,CAAYC,SAAZ;;AACA,cAAIH,KAAK,CAACI,KAAN,CAAYC,QAAhB,EAAyB;AAEvB,mBACE;AACE,uBAASL,KAAK,CAACU,OADjB;AAEE,uBAASP,SAFX;AAGE,qBAAOK,OAHT;AAIE,6BAAgBR,KAAK,CAACW,WAJxB;AAKE,yBAAW,KALb;AAME,2BAAa;AANf,aADF;AAUD,WAZD,MAYO,IAAIX,KAAK,CAACI,KAAN,CAAYnB,IAAhB,EAAqB;AAC1B,gBAAIkB,SAAS,GAAG,KAAKnB,WAAL,CAAiBgB,KAAK,CAACI,KAAN,CAAYnB,IAA7B,CAAhB,CAD0B,CAE1B;;AACA,mBACE;AACE,uBAASe,KAAK,CAACU,OADjB;AAEE,uBAASP,SAFX;AAGE,qBAAOA,SAHT;AAIE,6BAAgBH,KAAK,CAACW,WAJxB;AAKE,yBAAW,KALb;AAME,2BAAa;AANf,aADF;AAUD,WAbM,MAaA;AACL,mBAAOV,OAAO,CAACC,GAAR,CAAY,OAAZ,CAAP;AACD;AACF,SAjCmB,CAApB,CARE,CA2CF;;AACA,aAAKU,QAAL,CAAc;AACZC,UAAAA,UAAU,EAAEhB;AADA,SAAd;AAID,OAhDD,CAgDE,OAAOiB,KAAP,EAAa;AACbb,QAAAA,OAAO,CAACC,GAAR,CAAYY,KAAZ;AACD;AAEF,KAvE2B;;AAAA,SAyE5BC,WAzE4B,GAyEd,MAAM;AAClB,WAAKH,QAAL,CAAc;AACZI,QAAAA,SAAS,EAAE,IADC;AAEZC,QAAAA,QAAQ,EAAE;AAFE,OAAd;AAID,KA9E2B;;AAAA,SAgF5BC,SAhF4B,GAgFfC,CAAD,IAAO;AACjB;AACA,WAAKP,QAAL,CAAc;AACZK,QAAAA,QAAQ,EAAE,IADE;AAEZD,QAAAA,SAAS,EAAEG;AAFC,OAAd;AAID,KAtF2B;;AAAA,SAwF5BC,SAxF4B,GAwFhB,MAAM;AAChB,UAAI,KAAKC,KAAL,CAAWJ,QAAf,EAAwB;AACtB,aAAKL,QAAL,CAAc;AACZK,UAAAA,QAAQ,EAAE,KADE;AAEZD,UAAAA,SAAS,EAAE;AAFC,SAAd;AAID;AACF,KA/F2B;;AAG1B,SAAKK,KAAL,GAAa;AACXR,MAAAA,UAAU,EAAE,EADD;AAEXI,MAAAA,QAAQ,EAAE;AAFC,KAAb;AAKD;;AAyFDK,EAAAA,MAAM,GAAG;AAEP,WACE;AAAK,MAAA,OAAO,EAAE,KAAKF,SAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAK,MAAA,SAAS,EAAC,cAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAQ,MAAA,SAAS,EAAC,YAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAEE;AAAI,MAAA,SAAS,EAAC,WAAd;AAA0B,MAAA,EAAE,EAAC,UAA7B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBAFF,CADF,EAKE;AAAK,MAAA,KAAK,EAAE;AAAEG,QAAAA,MAAM,EAAE;AAAV,OAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,QAAD;AACE,MAAA,SAAS,EAAE5C,SADb;AAEE,MAAA,MAAM,EAAE,KAAK0C,KAAL,CAAWR,UAFrB;AAGE,MAAA,IAAI,EAAE,EAHR;AAIE,MAAA,WAAW,EAAC,OAJd;AAKE,MAAA,KAAK,EAAE,CAAC,OAAD,CALT;AAME,MAAA,WAAW,EAAE,IAAIW,IAAJ,EANf;AAOE,MAAA,aAAa,EAAGL,CAAD,IAAO;AACpB,aAAKD,SAAL,CAAeC,CAAf;AACD,OATH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,CALF,CADF,EAoBG,KAAKE,KAAL,CAAWJ,QAAX,GAAsB,oBAAC,UAAD;AAAY,MAAA,KAAK,EAAE,KAAKI,KAAL,CAAWL,SAA9B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAAtB,GAAmE,IApBtE,CADF;AAwBD;;AA7H8B;;AAgIjC,eAAepC,QAAf","sourcesContent":["import React, { Component } from 'react';\nimport MusicEvent from './MusicEvent/MusicEvent';\n\nimport {\n    Calendar,\n    //DateLocalizer,\n    momentLocalizer,\n    //globalizeLocalizer,\n    //move,\n    //Views,\n    //Navigate,\n    //components,\n  } from 'react-big-calendar';\n\nimport moment from 'moment';\n\nimport \"react-big-calendar/lib/css/react-big-calendar.css\";\nimport '../../App.css';\n\nconst localizer = momentLocalizer(moment);\n\nclass MusicCal extends Component {\n\n  constructor(props, context) {\n    super(props, context)\n\n    this.state = {\n      cal_events: [],\n      selected: false\n    }\n\n  }\n\n  convertDate = (date) => {\n    return moment.utc(date).toDate()\n  }\n\n  componentDidMount = () => {\n    this.getEvents();\n  }\n  \n  getEvents = async () => {\n    try {\n      const response = await fetch(\"https://www.googleapis.com/calendar/v3/calendars/broadwayroxy.com_76kjffbp3se29lk10ptsqr2bm0@group.calendar.google.com/events?key=AIzaSyAMcCW7mJqkNNPoAWNG7VnI3n7pjo-3bcg\");\n      if(response.status !== 200){\n        throw(Error(response.statusText));\n      }\n      const parsedResponse = await response.json();\n      //console.log(parsedResponse);\n\n      const eventsArray = parsedResponse.items.map((event) => {\n        console.log(event);\n        let dateStart = event.start.dateTime ? this.convertDate(event.start.dateTime).toISOString() : this.convertDate(event.originalStartTime.dateTime).toISOString();\n        let dateEnd = this.convertDate(event.end.dateTime).toISOString();\n        console.log(dateStart);\n        if (event.start.dateTime){\n          \n          return(\n            {\n              \"title\": event.summary,\n              \"start\": dateStart,\n              \"end\": dateEnd,\n              \"description\" : event.description,\n              \"allDay?\": false,\n              \"resource?\": null\n            }\n          )\n        } else if (event.start.date){\n          let dateStart = this.convertDate(event.start.date);\n          //let dateEnd = this.convertDate(event.end.date);\n          return(\n            {\n              \"title\": event.summary,\n              \"start\": dateStart,\n              \"end\": dateStart,\n              \"description\" : event.description,\n              \"allDay?\": false,\n              \"resource?\": null\n            }\n          )\n        } else {\n          return(console.log(\"error\"));\n        }\n      });\n\n      //console.log(eventsArray);\n      this.setState({\n        cal_events: eventsArray\n      })\n\n    } catch (error){\n      console.log(error);\n    }\n\n  }\n\n  hideDetails = () => {\n    this.setState({\n      thisEvent: null,\n      selected: false\n    })\n  }\n\n  showEvent = (e) => {\n    //console.log(e);\n    this.setState({\n      selected: true,\n      thisEvent: e\n    });\n  }\n\n  hideEvent = () => {\n    if (this.state.selected){\n      this.setState({\n        selected: false,\n        thisEvent: null\n      })\n    }\n  }\n\n  render() {\n    \n    return (\n      <div onClick={this.hideEvent}>\n        <div className=\"App calendar\" >\n          <header className=\"App-header\">\n\n            <h2 className=\"App-title\" id=\"musiccal\">Music Calendar</h2>\n          </header>\n          <div style={{ height: 700 }}>\n            <Calendar\n              localizer={localizer}\n              events={this.state.cal_events}\n              step={30}\n              defaultView='month'\n              views={['month']}\n              defaultDate={new Date()}\n              onSelectEvent={(e) => {\n                this.showEvent(e);\n              }}\n            />\n          </div>\n        </div>\n        {this.state.selected ? <MusicEvent event={this.state.thisEvent}/> : null}\n      </div>\n    );\n  }\n}\n\nexport default MusicCal;"]},"metadata":{},"sourceType":"module"}