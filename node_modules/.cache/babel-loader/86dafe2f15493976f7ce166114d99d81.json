{"ast":null,"code":"var _jsxFileName = \"/Users/adamwolfman/Desktop/roxy/roxy/src/Calendars/EventCal/EventCal.jsx\";\nimport React, { Component } from 'react';\nimport EventEvent from './EventEvent/EventEvent';\nimport { Calendar, //DateLocalizer,\nmomentLocalizer } from //globalizeLocalizer,\n//move,\n//Views,\n//Navigate,\n//components,\n'react-big-calendar';\nimport moment from 'moment';\nimport \"react-big-calendar/lib/css/react-big-calendar.css\";\nimport '../../App.css';\nconst localizer = momentLocalizer(moment);\n\nclass EventCal extends Component {\n  constructor(props, context) {\n    super(props, context);\n\n    this.convertDate = date => {\n      return moment.utc(date).toDate();\n    };\n\n    this.componentDidMount = () => {\n      this.getEvents();\n    };\n\n    this.getEvents = async () => {\n      try {\n        const response = await fetch(\"https://www.googleapis.com/calendar/v3/calendars/broadwayroxy.com_0sgiv5ufjs7doheqr6kp0012r0@group.calendar.google.com/events?key=AIzaSyAMcCW7mJqkNNPoAWNG7VnI3n7pjo-3bcg\");\n\n        if (response.status !== 200) {\n          throw Error(response.statusText);\n        }\n\n        const parsedResponse = await response.json(); //console.log(parsedResponse);\n\n        const eventsArray = parsedResponse.items.map(event => {\n          if (event.status !== \"confirmed\") {\n            return null;\n          }\n\n          console.log(event);\n\n          if (event.start.dateTime) {\n            let dateStart = event.start.dateTime ? this.convertDate(event.start.dateTime) : this.convertDate(event.start.date);\n            let dateEnd = event.end.dateTime ? this.convertDate(event.end.dateTime) : this.convertDate(event.end.date);\n            return {\n              \"title\": event.summary,\n              \"start\": dateStart,\n              \"end\": dateEnd,\n              \"description\": event.description,\n              \"allDay?\": false,\n              \"resource?\": null\n            };\n          } else if (event.start.date) {\n            let dateStart = event.start.dateTime ? this.convertDate(event.start.dateTime.toString).toISOString() : this.convertDate(event.originalStartTime.dateTime).toISOString();\n            let dateEnd = this.convertDate(event.end.date).toISOString();\n            return {\n              \"title\": event.summary,\n              \"start\": dateStart,\n              \"end\": dateEnd,\n              \"description\": event.description,\n              \"allDay?\": false,\n              \"resource?\": null\n            };\n          } else {\n            return console.log(\"error\");\n          }\n        });\n        console.log(eventsArray);\n        this.setState({\n          cal_events: eventsArray\n        });\n      } catch (error) {\n        console.log(error);\n      }\n    };\n\n    this.showEvent = e => {\n      //console.log(e);\n      this.setState({\n        selected: true,\n        thisEvent: e\n      });\n    };\n\n    this.hideEvent = () => {\n      if (this.state.selected) {\n        this.setState({\n          selected: false,\n          thisEvent: null\n        });\n      }\n    };\n\n    this.state = {\n      cal_events: [],\n      selected: false\n    };\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      onClick: this.hideEvent,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"App calendar\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121\n      },\n      __self: this\n    }, React.createElement(\"header\", {\n      className: \"App-header\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122\n      },\n      __self: this\n    }, React.createElement(\"h2\", {\n      className: \"App-title\",\n      id: \"eventcal\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124\n      },\n      __self: this\n    }, \"Events & Specials\")), React.createElement(\"div\", {\n      style: {\n        height: 700\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126\n      },\n      __self: this\n    }, React.createElement(Calendar, {\n      localizer: localizer,\n      events: this.state.cal_events,\n      step: 30,\n      defaultView: \"month\",\n      views: ['month'],\n      defaultDate: new Date(),\n      onSelectEvent: e => {\n        this.showEvent(e);\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127\n      },\n      __self: this\n    }))), this.state.selected ? React.createElement(EventEvent, {\n      event: this.state.thisEvent,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140\n      },\n      __self: this\n    }) : null);\n  }\n\n}\n\nexport default EventCal;","map":{"version":3,"sources":["/Users/adamwolfman/Desktop/roxy/roxy/src/Calendars/EventCal/EventCal.jsx"],"names":["React","Component","EventEvent","Calendar","momentLocalizer","moment","localizer","EventCal","constructor","props","context","convertDate","date","utc","toDate","componentDidMount","getEvents","response","fetch","status","Error","statusText","parsedResponse","json","eventsArray","items","map","event","console","log","start","dateTime","dateStart","dateEnd","end","summary","description","toString","toISOString","originalStartTime","setState","cal_events","error","showEvent","e","selected","thisEvent","hideEvent","state","render","height","Date"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport EventEvent from './EventEvent/EventEvent';\nimport {\n    Calendar,\n    //DateLocalizer,\n    momentLocalizer,\n    //globalizeLocalizer,\n    //move,\n    //Views,\n    //Navigate,\n    //components,\n  } from 'react-big-calendar';\n\nimport moment from 'moment';\n\nimport \"react-big-calendar/lib/css/react-big-calendar.css\";\nimport '../../App.css';\n\n\n\n\nconst localizer = momentLocalizer(moment);\n\nclass EventCal extends Component {\n\n  constructor(props, context) {\n    super(props, context)\n\n    this.state = {\n      cal_events: [],\n      selected: false\n    }\n\n  }\n\n  convertDate = (date) => {\n    return moment.utc(date).toDate()\n  }\n\n  componentDidMount = () => {\n    this.getEvents();\n  }\n  \n  getEvents = async () => {\n    try {\n      const response = await fetch(\"https://www.googleapis.com/calendar/v3/calendars/broadwayroxy.com_0sgiv5ufjs7doheqr6kp0012r0@group.calendar.google.com/events?key=AIzaSyAMcCW7mJqkNNPoAWNG7VnI3n7pjo-3bcg\");\n      if(response.status !== 200){\n        throw(Error(response.statusText));\n      }\n      const parsedResponse = await response.json();\n      //console.log(parsedResponse);\n\n      const eventsArray = parsedResponse.items.map((event) => {\n        if(event.status !== \"confirmed\"){\n          return null;\n        }\n\n        console.log(event);\n        if (event.start.dateTime){\n          let dateStart = event.start.dateTime ? this.convertDate(event.start.dateTime) : this.convertDate(event.start.date);\n          let dateEnd = event.end.dateTime ? this.convertDate(event.end.dateTime) : this.convertDate(event.end.date);\n          return(\n            {\n              \"title\": event.summary,\n              \"start\": dateStart,\n              \"end\": dateEnd,\n              \"description\" : event.description,\n              \"allDay?\": false,\n              \"resource?\": null\n            }\n          )\n        } else if (event.start.date){\n          let dateStart = event.start.dateTime ? this.convertDate(event.start.dateTime.toString).toISOString() : this.convertDate(event.originalStartTime.dateTime).toISOString();\n          let dateEnd = this.convertDate(event.end.date).toISOString();\n          return(\n            {\n              \"title\": event.summary,\n              \"start\": dateStart,\n              \"end\": dateEnd,\n              \"description\" : event.description,\n              \"allDay?\": false,\n              \"resource?\": null\n            }\n          )\n        } else {\n          return(console.log(\"error\"));\n        }\n      });\n      console.log(eventsArray);\n      this.setState({\n        cal_events: eventsArray\n      })\n\n    } catch (error){\n      console.log(error);\n    }\n\n  }\n\n  showEvent = (e) => {\n    //console.log(e);\n    this.setState({\n      selected: true,\n      thisEvent: e\n    });\n  }\n\n  hideEvent = () => {\n    if (this.state.selected){\n      this.setState({\n        selected: false,\n        thisEvent: null\n      })\n    }\n  }\n\n  render() {\n    \n    return (\n      <div onClick={this.hideEvent}>\n        <div className=\"App calendar\">\n          <header className=\"App-header\">\n\n            <h2 className=\"App-title\" id=\"eventcal\">Events & Specials</h2>\n          </header>\n          <div style={{ height: 700 }}>\n            <Calendar\n              localizer={localizer}\n              events={this.state.cal_events}\n              step={30}\n              defaultView='month'\n              views={['month']}\n              defaultDate={new Date()}\n              onSelectEvent={(e) => {\n                this.showEvent(e);\n              }}\n            />\n          </div>\n        </div>\n        {this.state.selected ? <EventEvent event={this.state.thisEvent}/> : null}\n      </div>\n      \n    );\n  }\n}\n\nexport default EventCal;"]},"metadata":{},"sourceType":"module"}