{"ast":null,"code":"import _objectSpread from \"/Users/adamwolfman/Desktop/roxy_encinitas/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _slicedToArray from \"/Users/adamwolfman/Desktop/roxy_encinitas/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/adamwolfman/Desktop/roxy_encinitas/src/Shop/Shop.jsx\";\nimport React, { useState } from 'react';\nimport { Elements, StripeProvider } from 'react-stripe-elements';\nimport items from '../Api/api';\nimport Product from './Product/Product';\nimport Cart from './Cart/Cart';\nimport CheckoutForm from './CheckoutForm/CheckoutForm';\nimport shopRoxy from '../images/shop_roxy.png'; // import logo from './logo.svg';\n// import './App.css';\n\nexport default function App() {\n  const _useState = useState([]),\n        _useState2 = _slicedToArray(_useState, 2),\n        itemsInCart = _useState2[0],\n        setItemsInCart = _useState2[1];\n\n  const handleAddToCartClick = id => {\n    setItemsInCart(itemsInCart => {\n      const itemInCart = itemsInCart.find(item => item.id === id); // if item is already in cart, update the quantity\n\n      if (itemInCart) {\n        return itemsInCart.map(item => {\n          if (item.id !== id) return item;\n          return _objectSpread({}, itemInCart, {\n            quantity: item.quantity + 1\n          });\n        });\n      } // otherwise, add new item to cart\n\n\n      const item = items.find(item => item.id.toString().toLowerCase() === id.toString().toLowerCase());\n      return [...itemsInCart, _objectSpread({}, item, {\n        quantity: 1\n      })];\n    });\n  };\n\n  const handleRemoveFromCart = e => {\n    e.preventDefault();\n    const id = e.target.id;\n    setItemsInCart(itemsInCart => {\n      const itemToRemove = itemsInCart.find(item => item.id.toString().toLowerCase() === id.toString().toLowerCase()); //if item is already in cart, update the quantity\n\n      if (itemToRemove.quantity > 1) {\n        return itemsInCart.map(item => {\n          if (item.id.toString().toLowerCase() !== id.toString().toLowerCase()) return item;\n          return _objectSpread({}, item, {\n            quantity: item.quantity - 1\n          });\n        });\n      } // //otherwise, remove item from cart\n\n\n      const newCart = itemsInCart.filter(item => item.id.toString().toLowerCase() !== id.toString().toLowerCase());\n      console.log(newCart);\n      return newCart;\n    });\n  };\n\n  const totalCost = itemsInCart.reduce((acc, item) => acc + item.price * item.quantity, 0);\n  let mapMetaData = itemsInCart.map(item => {\n    const newPair = item.price + ' ' + item.title + ' : ' + item.quantity;\n    return newPair;\n  });\n  let metaData = '';\n  mapMetaData.forEach(item => {\n    metaData = metaData !== '' ? metaData = metaData + ', $' + item.toString() : metaData = '$' + item.toString();\n  });\n  console.log(metaData);\n  return React.createElement(\"div\", {\n    id: \"shop\",\n    className: \"App\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76\n    },\n    __self: this\n  }, React.createElement(\"header\", {\n    className: \"App-header\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77\n    },\n    __self: this\n  }, React.createElement(\"img\", {\n    src: shopRoxy,\n    className: \"shop-logo\",\n    alt: \"logo\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78\n    },\n    __self: this\n  })), React.createElement(\"main\", {\n    className: \"App-shop\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"App-products\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81\n    },\n    __self: this\n  }, items.map(item => React.createElement(Product, {\n    key: item.id,\n    id: item.id,\n    title: item.title,\n    price: item.price,\n    onAddToCartClick: () => handleAddToCartClick(item.id),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83\n    },\n    __self: this\n  }))), React.createElement(Cart, {\n    itemsInCart: itemsInCart,\n    totalCost: totalCost,\n    remove: handleRemoveFromCart,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93\n    },\n    __self: this\n  }), itemsInCart.length > 0 && React.createElement(StripeProvider, {\n    apiKey: \"pk_test_sRKoW6QEQ6KG9lTUr0PUO88m00oAuLK0on\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95\n    },\n    __self: this\n  }, React.createElement(Elements, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96\n    },\n    __self: this\n  }, React.createElement(CheckoutForm, {\n    totalCost: totalCost,\n    metaData: metaData,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97\n    },\n    __self: this\n  })))));\n}","map":{"version":3,"sources":["/Users/adamwolfman/Desktop/roxy_encinitas/src/Shop/Shop.jsx"],"names":["React","useState","Elements","StripeProvider","items","Product","Cart","CheckoutForm","shopRoxy","App","itemsInCart","setItemsInCart","handleAddToCartClick","id","itemInCart","find","item","map","quantity","toString","toLowerCase","handleRemoveFromCart","e","preventDefault","target","itemToRemove","newCart","filter","console","log","totalCost","reduce","acc","price","mapMetaData","newPair","title","metaData","forEach","length"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;AACA,SAASC,QAAT,EAAmBC,cAAnB,QAAyC,uBAAzC;AACA,OAAOC,KAAP,MAAkB,YAAlB;AACA,OAAOC,OAAP,MAAoB,mBAApB;AACA,OAAOC,IAAP,MAAiB,aAAjB;AACA,OAAOC,YAAP,MAAyB,6BAAzB;AACA,OAAOC,QAAP,MAAqB,yBAArB,C,CACA;AACA;;AAEA,eAAe,SAASC,GAAT,GAAe;AAAA,oBACUR,QAAQ,CAAC,EAAD,CADlB;AAAA;AAAA,QACrBS,WADqB;AAAA,QACRC,cADQ;;AAG5B,QAAMC,oBAAoB,GAAGC,EAAE,IAAI;AACjCF,IAAAA,cAAc,CAACD,WAAW,IAAI;AAC5B,YAAMI,UAAU,GAAGJ,WAAW,CAACK,IAAZ,CAAiBC,IAAI,IAAIA,IAAI,CAACH,EAAL,KAAYA,EAArC,CAAnB,CAD4B,CAG5B;;AACA,UAAIC,UAAJ,EAAgB;AACd,eAAOJ,WAAW,CAACO,GAAZ,CAAgBD,IAAI,IAAI;AAC7B,cAAIA,IAAI,CAACH,EAAL,KAAYA,EAAhB,EAAoB,OAAOG,IAAP;AACpB,mCAAYF,UAAZ;AAAwBI,YAAAA,QAAQ,EAAEF,IAAI,CAACE,QAAL,GAAgB;AAAlD;AACD,SAHM,CAAP;AAID,OAT2B,CAW5B;;;AACA,YAAMF,IAAI,GAAGZ,KAAK,CAACW,IAAN,CAAWC,IAAI,IAAIA,IAAI,CAACH,EAAL,CAAQM,QAAR,GAAmBC,WAAnB,OAAqCP,EAAE,CAACM,QAAH,GAAcC,WAAd,EAAxD,CAAb;AAEA,aAAO,CAAC,GAAGV,WAAJ,oBAAsBM,IAAtB;AAA4BE,QAAAA,QAAQ,EAAE;AAAtC,SAAP;AAED,KAhBa,CAAd;AAiBD,GAlBD;;AAoBA,QAAMG,oBAAoB,GAAIC,CAAD,IAAO;AAClCA,IAAAA,CAAC,CAACC,cAAF;AACA,UAAMV,EAAE,GAAGS,CAAC,CAACE,MAAF,CAASX,EAApB;AAEAF,IAAAA,cAAc,CAACD,WAAW,IAAI;AAC1B,YAAMe,YAAY,GAAGf,WAAW,CAACK,IAAZ,CAAiBC,IAAI,IAAIA,IAAI,CAACH,EAAL,CAAQM,QAAR,GAAmBC,WAAnB,OAAqCP,EAAE,CAACM,QAAH,GAAcC,WAAd,EAA9D,CAArB,CAD0B,CAE1B;;AACA,UAAIK,YAAY,CAACP,QAAb,GAAwB,CAA5B,EAA+B;AAC3B,eAAOR,WAAW,CAACO,GAAZ,CAAgBD,IAAI,IAAI;AAC/B,cAAIA,IAAI,CAACH,EAAL,CAAQM,QAAR,GAAmBC,WAAnB,OAAqCP,EAAE,CAACM,QAAH,GAAcC,WAAd,EAAzC,EAAsE,OAAOJ,IAAP;AACtE,mCAAYA,IAAZ;AAAkBE,YAAAA,QAAQ,EAAEF,IAAI,CAACE,QAAL,GAAgB;AAA5C;AACC,SAHM,CAAP;AAIH,OARyB,CAU1B;;;AACA,YAAMQ,OAAO,GAAGhB,WAAW,CAACiB,MAAZ,CAAmBX,IAAI,IAAIA,IAAI,CAACH,EAAL,CAAQM,QAAR,GAAmBC,WAAnB,OAAqCP,EAAE,CAACM,QAAH,GAAcC,WAAd,EAAhE,CAAhB;AACAQ,MAAAA,OAAO,CAACC,GAAR,CAAYH,OAAZ;AACA,aAAOA,OAAP;AAEH,KAfa,CAAd;AAgBD,GApBD;;AAsBA,QAAMI,SAAS,GAAGpB,WAAW,CAACqB,MAAZ,CAChB,CAACC,GAAD,EAAMhB,IAAN,KAAegB,GAAG,GAAGhB,IAAI,CAACiB,KAAL,GAAajB,IAAI,CAACE,QADvB,EAEhB,CAFgB,CAAlB;AAMA,MAAIgB,WAAW,GAAGxB,WAAW,CAACO,GAAZ,CAAiBD,IAAD,IAAU;AAC1C,UAAMmB,OAAO,GAAGnB,IAAI,CAACiB,KAAL,GAAa,GAAb,GAAmBjB,IAAI,CAACoB,KAAxB,GAAgC,KAAhC,GAAwCpB,IAAI,CAACE,QAA7D;AACA,WAAOiB,OAAP;AACD,GAHiB,CAAlB;AAKA,MAAIE,QAAQ,GAAG,EAAf;AACAH,EAAAA,WAAW,CAACI,OAAZ,CAAqBtB,IAAD,IAAU;AAC5BqB,IAAAA,QAAQ,GAAGA,QAAQ,KAAK,EAAb,GAAkBA,QAAQ,GAAGA,QAAQ,GAAG,KAAX,GAAmBrB,IAAI,CAACG,QAAL,EAAhD,GAAkEkB,QAAQ,GAAG,MAAMrB,IAAI,CAACG,QAAL,EAA9F;AACD,GAFD;AAKAS,EAAAA,OAAO,CAACC,GAAR,CAAYQ,QAAZ;AAEA,SACE;AAAK,IAAA,EAAE,EAAC,MAAR;AAAe,IAAA,SAAS,EAAC,KAAzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAQ,IAAA,SAAS,EAAC,YAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAK,IAAA,GAAG,EAAE7B,QAAV;AAAoB,IAAA,SAAS,EAAC,WAA9B;AAA0C,IAAA,GAAG,EAAC,MAA9C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CADF,EAIE;AAAM,IAAA,SAAS,EAAC,UAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAK,IAAA,SAAS,EAAC,cAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGJ,KAAK,CAACa,GAAN,CAAUD,IAAI,IACb,oBAAC,OAAD;AACE,IAAA,GAAG,EAAEA,IAAI,CAACH,EADZ;AAEE,IAAA,EAAE,EAAEG,IAAI,CAACH,EAFX;AAGE,IAAA,KAAK,EAAEG,IAAI,CAACoB,KAHd;AAIE,IAAA,KAAK,EAAEpB,IAAI,CAACiB,KAJd;AAKE,IAAA,gBAAgB,EAAE,MAAMrB,oBAAoB,CAACI,IAAI,CAACH,EAAN,CAL9C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADD,CADH,CADF,EAaE,oBAAC,IAAD;AAAM,IAAA,WAAW,EAAEH,WAAnB;AAAgC,IAAA,SAAS,EAAEoB,SAA3C;AAAsD,IAAA,MAAM,EAAET,oBAA9D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAbF,EAcGX,WAAW,CAAC6B,MAAZ,GAAqB,CAArB,IACD,oBAAC,cAAD;AAAgB,IAAA,MAAM,EAAC,4CAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI,oBAAC,QAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACA,oBAAC,YAAD;AAAc,IAAA,SAAS,EAAET,SAAzB;AAAoC,IAAA,QAAQ,EAAEO,QAA9C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADA,CADJ,CAfF,CAJF,CADF;AA6BD","sourcesContent":["import React, { useState } from 'react';\nimport { Elements, StripeProvider } from 'react-stripe-elements';\nimport items from '../Api/api';\nimport Product from './Product/Product';\nimport Cart from './Cart/Cart';\nimport CheckoutForm from './CheckoutForm/CheckoutForm';\nimport shopRoxy from '../images/shop_roxy.png';\n// import logo from './logo.svg';\n// import './App.css';\n\nexport default function App() {\n  const [itemsInCart, setItemsInCart] = useState([]);\n\n  const handleAddToCartClick = id => {\n    setItemsInCart(itemsInCart => {\n      const itemInCart = itemsInCart.find(item => item.id === id);\n\n      // if item is already in cart, update the quantity\n      if (itemInCart) {\n        return itemsInCart.map(item => {\n          if (item.id !== id) return item;\n          return { ...itemInCart, quantity: item.quantity + 1 };\n        });\n      }\n\n      // otherwise, add new item to cart\n      const item = items.find(item => item.id.toString().toLowerCase() === id.toString().toLowerCase());\n      \n      return [...itemsInCart, { ...item, quantity: 1 }];\n      \n    });\n  };\n\n  const handleRemoveFromCart = (e) => {\n    e.preventDefault();  \n    const id = e.target.id;\n\n    setItemsInCart(itemsInCart => {\n        const itemToRemove = itemsInCart.find(item => item.id.toString().toLowerCase() === id.toString().toLowerCase());\n        //if item is already in cart, update the quantity\n        if (itemToRemove.quantity > 1) {\n            return itemsInCart.map(item => {\n            if (item.id.toString().toLowerCase() !== id.toString().toLowerCase()) return item;\n            return { ...item, quantity: item.quantity - 1 };\n            });\n        }\n  \n        // //otherwise, remove item from cart\n        const newCart = itemsInCart.filter(item => item.id.toString().toLowerCase() !== id.toString().toLowerCase());\n        console.log(newCart);\n        return newCart;\n\n    })\n  };\n\n  const totalCost = itemsInCart.reduce(\n    (acc, item) => acc + item.price * item.quantity,\n    0\n  );\n\n  \n  let mapMetaData = itemsInCart.map((item) => {\n    const newPair = item.price + ' ' + item.title + ' : ' + item.quantity;\n    return newPair;\n  });\n\n  let metaData = '';\n  mapMetaData.forEach((item) => {\n    metaData = metaData !== '' ? metaData = metaData + ', $' + item.toString() : metaData = '$' + item.toString();\n  })\n\n\n  console.log(metaData);\n\n  return (\n    <div id=\"shop\" className=\"App\">\n      <header className=\"App-header\">\n        <img src={shopRoxy} className=\"shop-logo\" alt=\"logo\" />\n      </header>\n      <main className=\"App-shop\">\n        <div className=\"App-products\">\n          {items.map(item => (\n            <Product\n              key={item.id}\n              id={item.id}\n              title={item.title}\n              price={item.price}\n              onAddToCartClick={() => handleAddToCartClick(item.id)}\n              \n            />\n          ))}\n        </div>\n        <Cart itemsInCart={itemsInCart} totalCost={totalCost} remove={handleRemoveFromCart}/>\n        {itemsInCart.length > 0 && (\n        <StripeProvider apiKey=\"pk_test_sRKoW6QEQ6KG9lTUr0PUO88m00oAuLK0on\">\n            <Elements>\n            <CheckoutForm totalCost={totalCost} metaData={metaData}/>\n            </Elements>\n        </StripeProvider>\n        )}\n      </main>\n    </div>\n  );\n}"]},"metadata":{},"sourceType":"module"}